(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);for(var r=a(0),n=a.n(r),i=a(8),o=a.n(i),c=[{type:"spade",number:"1",color:"black",unicode:"\ud83c\udca1"},{type:"spade",number:"2",color:"black",unicode:"\ud83c\udca2"},{type:"spade",number:"3",color:"black",unicode:"\ud83c\udca3"},{type:"spade",number:"4",color:"black",unicode:"\ud83c\udca4"},{type:"spade",number:"5",color:"black",unicode:"\ud83c\udca5"},{type:"spade",number:"6",color:"black",unicode:"\ud83c\udca6"},{type:"spade",number:"7",color:"black",unicode:"\ud83c\udca7"},{type:"spade",number:"8",color:"black",unicode:"\ud83c\udca8"},{type:"spade",number:"9",color:"black",unicode:"\ud83c\udca9"},{type:"spade",number:"10",color:"black",unicode:"\ud83c\udcaa"},{type:"spade",number:"jack",color:"black",unicode:"\ud83c\udcab"},{type:"spade",number:"queen",color:"black",unicode:"\ud83c\udcad"},{type:"spade",number:"king",color:"black",unicode:"\ud83c\udcae"},{type:"club",number:"1",color:"black",unicode:"\ud83c\udcd1"},{type:"club",number:"2",color:"black",unicode:"\ud83c\udcd2"},{type:"club",number:"3",color:"black",unicode:"\ud83c\udcd3"},{type:"club",number:"4",color:"black",unicode:"\ud83c\udcd4"},{type:"club",number:"5",color:"black",unicode:"\ud83c\udcd5"},{type:"club",number:"6",color:"black",unicode:"\ud83c\udcd6"},{type:"club",number:"7",color:"black",unicode:"\ud83c\udcd7"},{type:"club",number:"8",color:"black",unicode:"\ud83c\udcd8"},{type:"club",number:"9",color:"black",unicode:"\ud83c\udcd9"},{type:"club",number:"10",color:"black",unicode:"\ud83c\udcda"},{type:"club",number:"jack",color:"black",unicode:"\ud83c\udcdb"},{type:"club",number:"queen",color:"black",unicode:"\ud83c\udcdd"},{type:"club",number:"king",color:"black",unicode:"\ud83c\udcde"},{type:"diamond",number:"1",color:"red",unicode:"\ud83c\udcc1"},{type:"diamond",number:"2",color:"red",unicode:"\ud83c\udcc2"},{type:"diamond",number:"3",color:"red",unicode:"\ud83c\udcc3"},{type:"diamond",number:"4",color:"red",unicode:"\ud83c\udcc4"},{type:"diamond",number:"5",color:"red",unicode:"\ud83c\udcc5"},{type:"diamond",number:"6",color:"red",unicode:"\ud83c\udcc6"},{type:"diamond",number:"7",color:"red",unicode:"\ud83c\udcc7"},{type:"diamond",number:"8",color:"red",unicode:"\ud83c\udcc8"},{type:"diamond",number:"9",color:"red",unicode:"\ud83c\udcc9"},{type:"diamond",number:"10",color:"red",unicode:"\ud83c\udcca"},{type:"diamond",number:"jack",color:"red",unicode:"\ud83c\udccb"},{type:"diamond",number:"queen",color:"red",unicode:"\ud83c\udccd"},{type:"diamond",number:"king",color:"red",unicode:"\ud83c\udcce"},{type:"heart",number:"1",color:"red",unicode:"\ud83c\udcb1"},{type:"heart",number:"2",color:"red",unicode:"\ud83c\udcb2"},{type:"heart",number:"3",color:"red",unicode:"\ud83c\udcb3"},{type:"heart",number:"4",color:"red",unicode:"\ud83c\udcb4"},{type:"heart",number:"5",color:"red",unicode:"\ud83c\udcb5"},{type:"heart",number:"6",color:"red",unicode:"\ud83c\udcb6"},{type:"heart",number:"7",color:"red",unicode:"\ud83c\udcb7"},{type:"heart",number:"8",color:"red",unicode:"\ud83c\udcb8"},{type:"heart",number:"9",color:"red",unicode:"\ud83c\udcb9"},{type:"heart",number:"10",color:"red",unicode:"\ud83c\udcba"},{type:"heart",number:"jack",color:"red",unicode:"\ud83c\udcbb"},{type:"heart",number:"queen",color:"red",unicode:"\ud83c\udcbd"},{type:"heart",number:"king",color:"red",unicode:"\ud83c\udcbe"}],s=a(1),u=a(2),d=function(){function e(t){Object(s.a)(this,e),this.suit=t.suit,this.number=t.number,this.color=t.color,this.unicode=t.unicode}return Object(u.a)(e,[{key:"getUnicode",value:function(){return this.unicode}},{key:"getColor",value:function(){return this.color}},{key:"getRank",value:function(){return+this.number}},{key:"getSuit",value:function(){return this.suit}}],[{key:"getEmptyCard",value:function(){return new e({suit:"none",number:"0",color:"grey",unicode:"\ud83c\udca0"})}}]),e}(),l=function(){function e(t,a,r){Object(s.a)(this,e),this.wastePile=t,this.piles=a,this.foundations=r}return Object(u.a)(e,[{key:"getDeck",value:function(){return this.deck}},{key:"getWastePile",value:function(){return this.wastePile}},{key:"getPiles",value:function(){return this.piles}},{key:"getFoundations",value:function(){return this.foundations}},{key:"drawCard",value:function(){this.wastePile.drawCard()}},{key:"shiftCardFromPileToPile",value:function(e,t,a){var r=this.piles[t].removeFaceUpCards(e);this.piles[a].addFaceUpCards(r),this.addNewFaceUpCardToPile(t)}},{key:"addNewFaceUpCardToPile",value:function(e){this.piles[e].getFaceUpCards().length>0||this.piles[e].addFaceUpCard()}},{key:"addCardToFoundation",value:function(e,t){this.foundations[t].addCard(e)}},{key:"addWastePileCardToPile",value:function(e){var t=this.wastePile.removeTopCard();this.piles[e].addFaceUpCards([t])}},{key:"shiftCardFromWastePileToPile",value:function(e){var t=this.wastePile.shiftDrawCards();this.piles[e].getFaceUpCards().push(t)}},{key:"shiftCardToFoundation",value:function(e,t,a,r){this.isAddableToFoundation(e,this.foundations[t])&&("pile"===a&&(this.piles[r].removeFaceUpCards(1),this.addNewFaceUpCardToPile(r)),"waste-pile"===a&&this.wastePile.shiftDrawCards(),this.foundations[t].addCard(e))}},{key:"isDraggableCard",value:function(e,t){return 0===t.getRank()&&13===e.getRank()||e.getRank()===t.getRank()-1&&e.getColor()!==t.getColor()}},{key:"isAddableToFoundation",value:function(e,t){return 0===t.getTopCard().getRank()?1===e.getRank():e.getRank()===t.getTopCard().getRank()+1&&e.getSuit()===t.getTopCard().getSuit()}},{key:"hasWon",value:function(){var e=this;return 52===Object.keys(this.foundations).reduce(function(t,a){return a+e.foundations[t].length})}}]),e}(),p=function(){function e(t){Object(s.a)(this,e),this.wasteCards=t,this.drawCards=[]}return Object(u.a)(e,[{key:"getFaceUpCard",value:function(){return 0===this.drawCards.length&&this.drawCard(),this.drawCards[0]}},{key:"getWastePile",value:function(){return this.wasteCards}},{key:"drawCard",value:function(){0===this.wasteCards.length&&this.refillWasteCard(),this.drawCards.unshift(this.wasteCards.pop())}},{key:"refillWasteCard",value:function(){this.wasteCards=this.drawCards,this.drawCards=[],0===this.wasteCards.length&&this.wasteCards.push(d.getEmptyCard())}},{key:"getDrawCards",value:function(){return this.drawCards}},{key:"shiftDrawCards",value:function(){return this.drawCards.shift()}},{key:"removeTopCard",value:function(){return this.drawCards.pop()}}]),e}(),h=a(9),b=a.n(h),f=function(){function e(t,a){Object(s.a)(this,e),this.faceUpCards=t,this.faceDownCards=a}return Object(u.a)(e,[{key:"getFaceUpCards",value:function(){return this.faceUpCards}},{key:"getFaceDownCards",value:function(){return this.faceDownCards}},{key:"addFaceUpCards",value:function(e){var t=this;e.forEach(function(e){t.faceUpCards.push(e)})}},{key:"removeFaceUpCards",value:function(e){return this.faceUpCards.splice(-e)}},{key:"addFaceUpCard",value:function(){0!==this.faceDownCards.length?this.faceUpCards.push(this.faceDownCards.pop()):this.faceDownCards.push(d.getEmptyCard())}}]),e}(),m=a(4),y=a(3),k=a(5),g=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.createCard()}},{key:"createCard",value:function(){return n.a.createElement("div",{draggable:!0,onDragStart:this.props.onDragStart,onDragOver:this.props.onDragOver,onDrop:this.props.onDrop,style:{color:this.props.card.getColor()},className:"card "+this.props.className,id:this.props.id},this.props.card.getUnicode())}}]),t}(n.a.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{onClick:this.props.onClick,className:this.props.className},"\ud83c\udca0")}}]),t}(n.a.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.createWastePileView()}},{key:"createWastePileView",value:function(){return n.a.createElement("div",{className:"waste-pile"},this.createFaceDownCardView(),this.createFaceUpCardView())}},{key:"createFaceDownCardView",value:function(){return n.a.createElement(C,{onClick:this.props.onClick,className:"card stable-card"})}},{key:"createFaceUpCardView",value:function(){var e=this.props.wastePile.getFaceUpCard(),t="waste-pile___".concat(e.suit,"_").concat(e.color,"_").concat(e.number,"_").concat(e.unicode);return n.a.createElement(g,{card:this.props.wastePile.getFaceUpCard(),onDragStart:this.props.onDragStart,onDragOver:this.props.onDragOver,onDrop:this.props.onDrop,id:t,className:"stable-card"})}}]),t}(n.a.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"pile"},this.props.faceUpCards,this.props.faceDownCards)}}]),t}(n.a.Component),D=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"pile-container"},this.props.allPiles)}}]),t}(n.a.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.createStackPileView()}},{key:"createStackPileView",value:function(){var e=this,t=Object.keys(this.props.piles).map(function(t){return e.createSinglePileView(e.props.piles[t],t)});return n.a.createElement(D,{allPiles:t})}},{key:"createSinglePileView",value:function(e,t){return n.a.createElement(w,{faceUpCards:this.createFaceDownCardView(e,t),faceDownCards:this.createFaceUpCardView(e,t)})}},{key:"createFaceUpCardView",value:function(e,t){var a=this,r=e.getFaceUpCards().length;return e.getFaceUpCards().map(function(e,n){var i=a.getID(t,e,r,n);return a.createCardView(e,i)})}},{key:"createFaceDownCardView",value:function(e,t){var a=this;return e.getFaceDownCards().map(function(e,r){if(0===e.getRank()){var i=a.getID(t,e,1,r);return a.createCardView(e,i)}return n.a.createElement(C,{className:"card"})})}},{key:"createCardView",value:function(e,t){return n.a.createElement(g,{card:e,className:"faced-up-card",id:t,onDragStart:this.props.onDragStart,onDrop:this.props.onDrop,onDragOver:this.props.onDragOver})}},{key:"getID",value:function(e,t,a,r){return"pile_".concat(e,"_").concat(a-r,"_").concat(t.suit,"_").concat(t.color,"_").concat(t.number,"_").concat(t.unicode)}}]),t}(n.a.Component),j=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.createFoundationView()}},{key:"createFoundationView",value:function(){var e=this,t=Object.keys(this.props.foundations).map(function(t){return n.a.createElement("div",{id:"foundation_"+t,className:"card stable-card",onDragOver:e.props.onDragOver,onDrop:e.props.onDrop,style:{color:e.props.foundations[t].getTopCard().getColor()}},e.props.foundations[t].getTopCard().getUnicode())});return n.a.createElement("div",{className:"foundation"},t)}}]),t}(n.a.Component),P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).game=e.game,a.state={game:e.game},a}return Object(k.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"header"},n.a.createElement(v,{wastePile:this.game.getWastePile(),onClick:this.drawCard.bind(this),piles:this.game.getPiles(),onDragStart:this.drag.bind(this),onDragOver:this.allowDrop.bind(this),onDrop:this.drop.bind(this)}),n.a.createElement(j,{foundations:this.game.getFoundations(),onDragOver:this.allowDrop.bind(this),onDrop:this.drop.bind(this)})),n.a.createElement(O,{piles:this.game.getPiles(),onDragStart:this.drag.bind(this),onDragOver:this.allowDrop.bind(this),onDrop:this.drop.bind(this)}))}},{key:"drawCard",value:function(){this.game.drawCard(),this.setState({game:this.game})}},{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drag",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"drop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),a=e.target.id,r=this.getCard(t),n=this.getCard(a);if(!this.isDestinationWastePile(a))return this.isDestinationFoundation(a)?this.shiftCardToFoundation(t,a,r):this.shiftCardToPile(t,a,r,n)}},{key:"shiftCardToFoundation",value:function(e,t,a){var r=this.splitAndTake(t,1);if(this.isSourceWastePile(e)&&this.game.shiftCardToFoundation(a,r,"waste-pile"),this.isSourcePile(e)){var n=+this.splitAndTake(e,1);this.game.shiftCardToFoundation(a,r,"pile",n)}this.setState({game:this.game})}},{key:"shiftCardToPile",value:function(e,t,a,r){if(this.game.isDraggableCard(a,r)){if(this.isSourceWastePile(e)){var n=+this.splitAndTake(t,1);this.game.shiftCardFromWastePileToPile(n)}if(this.isSourcePile(e)){var i=+this.splitAndTake(e,2),o=+this.splitAndTake(e,1),c=+this.splitAndTake(t,1);this.game.shiftCardFromPileToPile(i,o,c)}this.setState({game:this.game})}}},{key:"isSourceWastePile",value:function(e){return"waste-pile"===this.getPlace(e)}},{key:"isSourcePile",value:function(e){return"pile"===this.getPlace(e)}},{key:"isDestinationFoundation",value:function(e){return"foundation"===this.getPlace(e)}},{key:"isDestinationPile",value:function(e){return this.isSourcePile(e)}},{key:"isDestinationWastePile",value:function(e){return"waste-pile"===this.getPlace(e)}},{key:"getPlace",value:function(e){return e.split("_")[0]}},{key:"splitAndTake",value:function(e,t){return e.split("_")[t]}},{key:"getCard",value:function(e){var t=e.split("_")[3],a=e.split("_")[4],r=+e.split("_")[5],n=e.split("_")[6];return new d({suit:t,color:a,number:r,unicode:n})}}]),t}(n.a.Component),F=function(){function e(){Object(s.a)(this,e),this.cards=[]}return Object(u.a)(e,[{key:"addCard",value:function(e){this.cards.push(e)}},{key:"getCards",value:function(){return this.cards}},{key:"getTopCard",value:function(){return 0===this.cards.length?new d({suit:"none",number:"0",color:"black",unicode:"\ud83c\udca0"}):this.cards[this.cards.length-1]}}]),e}(),T=(a(16),b.a.shuffle(c.map(function(e){return new d(e)}))),U=new p(T.splice(0,24)),S={},E=0;E<7;E++){var V=T.splice(0,E+1),_=[V.pop()];S[E]=new f(_,V)}for(var N={},W=0;W<4;W++)N[W]=new F;var R=new l(U,S,N);o.a.render(n.a.createElement(P,{game:R}),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.bdc86ed1.chunk.js.map