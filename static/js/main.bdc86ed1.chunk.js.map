{"version":3,"sources":["index.js","data/cards.js","model/card.js","model/game.js","constant.js","model/wastePile.js","model/pileStack.js","components/card.js","components/FaceDownCard.js","components/WastePileView.js","components/pile.js","components/pileContainer.js","components/Deck.js","components/ foundations.js","components/app.js","model/foundation.js"],"names":["cards","type","number","color","unicode","Card","cardDetails","Object","classCallCheck","this","suit","Game","wastePile","piles","foundations","deck","drawCard","numberOfCards","currentPile","nextPile","draggedCards","removeFaceUpCards","addFaceUpCards","addNewFaceUpCardToPile","getFaceUpCards","length","addFaceUpCard","card","foundation","addCard","pileNumber","removeTopCard","destinationPile","shiftDrawCards","push","cardSource","isAddableToFoundation","draggedCard","inPlaceCard","getRank","getColor","getTopCard","getSuit","_this","keys","reduce","acc","WastePile","wasteCards","drawCards","refillWasteCard","unshift","pop","getEmptyCard","shift","PileStack","faceUpCards","faceDownCards","forEach","splice","createCard","react_default","a","createElement","draggable","onDragStart","props","onDragOver","onDrop","style","className","id","getUnicode","React","Component","FaceDownCard","onClick","WastePileView","createWastePileView","createFaceDownCardView","createFaceUpCardView","components_FaceDownCard","getFaceUpCard","concat","components_card","Pile","PileContainer","allPiles","PileStackView","createStackPileView","map","index","createSinglePileView","pileContainer","pile","components_pile","_this2","count","getID","createCardView","_this3","getFaceDownCards","FoundationView","createFoundationView","view","possibleConstructorReturn","getPrototypeOf","call","game","state","components_WastePileView","getWastePile","bind","getPiles","drag","allowDrop","drop","_foundations","getFoundations","Deck","setState","event","preventDefault","dataTransfer","setData","target","source","getData","destination","getCard","isDestinationWastePile","isDestinationFoundation","shiftCardToFoundation","shiftCardToPile","splitAndTake","isSourceWastePile","isSourcePile","pileNum","isDraggableCard","shiftCardFromWastePileToPile","numOfCards","sourcePile","shiftCardFromPileToPile","getPlace","split","data","Foundation","lodash","shuffle","cardsData","cardsOfPile","ReactDOM","render","app","document","getElementById"],"mappings":"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","file":"static/js/main.bdc86ed1.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cardsData from \"./data/cards\";\nimport Card from \"./model/card\";\nimport Game from \"./model/game\";\nimport WastePile from \"./model/wastePile\";\nimport lodash from \"lodash\";\nimport PileStack from \"./model/pileStack\";\nimport GameView from \"./components/app\";\nimport Foundation from \"./model/foundation\";\nimport \"./index.css\";\n\nconst cards = lodash.shuffle(cardsData.map(card => new Card(card)));\n\nconst wastePileCards = cards.splice(0, 24);\nconst wastePile = new WastePile(wastePileCards);\n\nconst piles = {};\n\nfor (let index = 0; index < 7; index++) {\n  const cardsOfPile = cards.splice(0, index + 1);\n  const faceUpCards = [cardsOfPile.pop()];\n  piles[index] = new PileStack(faceUpCards, cardsOfPile);\n}\n\nconst foundations = {};\n\nfor (let index = 0; index < 4; index++) {\n  foundations[index] = new Foundation();\n}\n\nconst game = new Game(wastePile, piles, foundations);\n\nReactDOM.render(<GameView game={game} />, document.getElementById(\"root\"));","const cards = [\n  {\n    \"type\": \"spade\",\n    \"number\": \"1\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A1}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"2\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A2}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"3\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A3}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"4\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A4}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"5\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A5}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"6\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A6}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"7\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A7}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"8\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A8}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"9\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0A9}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"10\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0AA}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"jack\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0AB}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"queen\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0AD}\"\n  },\n  {\n    \"type\": \"spade\",\n    \"number\": \"king\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0AE}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"1\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D1}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"2\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D2}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"3\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D3}\",\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"4\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D4}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"5\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D5}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"6\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D6}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"7\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D7}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"8\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D8}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"9\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0D9}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"10\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0DA}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"jack\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0DB}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"queen\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0DD}\"\n  },\n  {\n    \"type\": \"club\",\n    \"number\": \"king\",\n    \"color\": \"black\",\n    \"unicode\": \"\\u{1F0DE}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"1\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C1}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"2\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C2}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"3\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C3}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"4\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C4}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"5\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C5}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"6\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C6}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"7\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C7}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"8\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C8}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"9\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0C9}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"10\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0CA}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"jack\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0CB}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"queen\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0CD}\"\n  },\n  {\n    \"type\": \"diamond\",\n    \"number\": \"king\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0CE}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"1\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B1}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"2\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B2}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"3\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B3}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"4\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B4}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"5\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B5}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"6\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B6}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"7\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B7}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"8\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B8}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"9\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0B9}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"10\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0BA}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"jack\",\n    \"color\": \"red\",\n    \"unicode\":  \"\\u{1F0BB}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"queen\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0BD}\"\n  },\n  {\n    \"type\": \"heart\",\n    \"number\": \"king\",\n    \"color\": \"red\",\n    \"unicode\": \"\\u{1F0BE}\"\n  }\n]\n\nexport default cards;","class Card{\n  constructor(cardDetails){\n      this.suit = cardDetails.suit;\n      this.number = cardDetails.number;\n      this.color = cardDetails.color;\n      this.unicode = cardDetails.unicode;\n  }\n\n  getUnicode(){\n      return this.unicode;\n  }\n\n  getColor(){\n      return this.color;\n  }\n\n  getRank(){\n      return +this.number;\n  }\n\n  getSuit(){\n      return this.suit;\n  }\n\n  static getEmptyCard(){\n      return new Card({\n          suit:\"none\",\n          number:\"0\",\n          color:\"grey\",\n          unicode:\"\\u{1F0A0}\"\n      })\n  }\n}\n\nexport default Card","import { PLACE_WASTE_PILE, PLACE_PILE } from \"../constant\";\n\nclass Game {\n  constructor(wastePile, piles, foundations) {\n    this.wastePile = wastePile;\n    this.piles = piles;\n    this.foundations = foundations;\n  }\n\n  getDeck() {\n    return this.deck;\n  }\n\n  getWastePile() {\n    return this.wastePile;\n  }\n\n  getPiles() {\n    return this.piles;\n  }\n\n  getFoundations() {\n    return this.foundations;\n  }\n\n  drawCard() {\n    this.wastePile.drawCard();\n  }\n\n  shiftCardFromPileToPile(numberOfCards, currentPile, nextPile) {\n    const draggedCards = this.piles[currentPile].removeFaceUpCards(numberOfCards);\n    this.piles[nextPile].addFaceUpCards(draggedCards);\n\n    this.addNewFaceUpCardToPile(currentPile);\n  }\n\n  addNewFaceUpCardToPile(currentPile) {\n    if (this.piles[currentPile].getFaceUpCards().length > 0) return;\n    this.piles[currentPile].addFaceUpCard();\n  }\n\n  addCardToFoundation(card, foundation) {\n    this.foundations[foundation].addCard(card);\n  }\n\n  addWastePileCardToPile(pileNumber) {\n    const card = this.wastePile.removeTopCard();\n    this.piles[pileNumber].addFaceUpCards([card]);\n  }\n\n  shiftCardFromWastePileToPile(destinationPile) {\n    const card = this.wastePile.shiftDrawCards();\n    this.piles[destinationPile].getFaceUpCards().push(card);\n  }\n\n  shiftCardToFoundation(card, foundation, cardSource, destinationPile) {\n    if (!this.isAddableToFoundation(card, this.foundations[foundation])) return;\n    if (cardSource === PLACE_PILE) {\n      this.piles[destinationPile].removeFaceUpCards(1);\n      this.addNewFaceUpCardToPile(destinationPile);\n    }\n    if (cardSource === PLACE_WASTE_PILE) this.wastePile.shiftDrawCards();\n    this.foundations[foundation].addCard(card);\n  }\n\n  isDraggableCard(draggedCard, inPlaceCard) {\n    if (inPlaceCard.getRank() === 0 && draggedCard.getRank() === 13) return true;\n    return (\n      draggedCard.getRank() === inPlaceCard.getRank() - 1 &&\n      draggedCard.getColor() !== inPlaceCard.getColor()\n    );\n  }\n\n  isAddableToFoundation(card, foundation) {\n    if (foundation.getTopCard().getRank() === 0) return card.getRank() === 1;\n    return (\n      card.getRank() === foundation.getTopCard().getRank() + 1 &&\n      card.getSuit() === foundation.getTopCard().getSuit()\n    );\n  }\n\n  hasWon() {\n    return Object.keys(this.foundations).reduce(\n      (foundation, acc) => (acc += this.foundations[foundation].length)\n    ) === 52;\n  }\n}\n\nexport default Game;\n","const FACE_DOWN_UNICODE = \"\\u{1F0A0}\";\nconst PLACE_PILE = \"pile\";\nconst PLACE_WASTE_PILE = \"waste-pile\";\nconst PLACE_FOUNDATION = \"foundation\";\n\nexport { FACE_DOWN_UNICODE, PLACE_FOUNDATION, PLACE_PILE, PLACE_WASTE_PILE}","import Card from \"./card\";\n\nclass WastePile {\n  constructor(cards) {\n    this.wasteCards = cards;\n    this.drawCards = [];\n  }\n\n  getFaceUpCard() {\n    if (this.drawCards.length === 0) {\n      this.drawCard();\n    }\n    return this.drawCards[0];\n  }\n\n  getWastePile() {\n    return this.wasteCards;\n  }\n\n  drawCard() {\n    if(this.wasteCards.length === 0) {\n      this.refillWasteCard();\n    }\n    this.drawCards.unshift(this.wasteCards.pop());\n  }\n\n  refillWasteCard(){\n    this.wasteCards = this.drawCards;\n    this.drawCards = [];\n    if(this.wasteCards.length === 0){\n      this.wasteCards.push(Card.getEmptyCard());\n    }\n  }\n\n  getDrawCards(){\n    return this.drawCards;\n  }\n\n  shiftDrawCards(){\n    return this.drawCards.shift();\n  }\n\n  removeTopCard() {\n    return this.drawCards.pop();\n  }\n}\n\nexport default WastePile;","import Card from \"./card\";\n\nclass PileStack {\n  constructor(faceUpCards, faceDownCards) {\n    this.faceUpCards = faceUpCards;\n    this.faceDownCards = faceDownCards;\n  }\n\n  getFaceUpCards() {\n    return this.faceUpCards;\n  }\n\n  getFaceDownCards() {\n    return this.faceDownCards;\n  }\n\n  addFaceUpCards(cards) {\n    cards.forEach(card => {\n      this.faceUpCards.push(card);\n    });\n  }\n\n  removeFaceUpCards(numberOfCards) {\n    return this.faceUpCards.splice(-numberOfCards);\n  }\n\n  addFaceUpCard() {\n    if(this.faceDownCards.length === 0){\n      this.faceDownCards.push(Card.getEmptyCard());\n      return;\n    }\n    this.faceUpCards.push(this.faceDownCards.pop());\n  }\n}\n\nexport default PileStack;","import React from \"react\";\n\nclass Card extends React.Component {\n  render() {\n    return this.createCard();\n  }\n\n  createCard() {\n    return (\n      <div\n        draggable\n        onDragStart={this.props.onDragStart}\n        onDragOver={this.props.onDragOver}\n        onDrop={this.props.onDrop}\n        style={{ color: this.props.card.getColor() }}\n        className={\"card\" + \" \" + this.props.className}\n        id={this.props.id}\n      >\n        {this.props.card.getUnicode()}\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","    \nimport React from \"react\";\nimport { FACE_DOWN_UNICODE } from \"../constant\";\n\nclass FaceDownCard extends React.Component {\n  render() {\n    return (\n      <div onClick={this.props.onClick} className={this.props.className}>\n        {FACE_DOWN_UNICODE}\n      </div>\n    );\n  }\n}\n\nexport default FaceDownCard;","import React from \"react\";\nimport CardView from \"./card\";\nimport FaceDownCard from \"./FaceDownCard\";\n\nclass WastePileView extends React.Component {\n  render() {\n    return this.createWastePileView();\n  }\n\n  createWastePileView() {\n    return (\n      <div className=\"waste-pile\">\n        {this.createFaceDownCardView()}\n        {this.createFaceUpCardView()}\n      </div>\n    );\n  }\n\n  createFaceDownCardView() {\n    return (\n      <FaceDownCard onClick={this.props.onClick} className=\"card stable-card\"/>\n    );\n  }\n\n  createFaceUpCardView() {\n    const card= this.props.wastePile.getFaceUpCard();\n    const id =`waste-pile___${card.suit}_${card.color}_${card.number}_${\n      card.unicode\n    }`;\n    return (\n      <CardView\n        card={this.props.wastePile.getFaceUpCard()}\n        onDragStart={this.props.onDragStart}\n        onDragOver={this.props.onDragOver}\n        onDrop={this.props.onDrop}\n        id={id}\n        className=\"stable-card\"\n      />\n    );\n  }\n}\n\nexport default WastePileView;","import React from \"react\";\n\nclass Pile extends React.Component {\n  render() {\n    return (\n      <div className=\"pile\">\n        {this.props.faceUpCards}\n        {this.props.faceDownCards}\n      </div>\n    );\n  }\n}\n\nexport default Pile;","\nimport React from \"react\";\n\nclass PileContainer extends React.Component {\n  render() {\n    return <div className=\"pile-container\">{this.props.allPiles}</div>;\n  }\n}\n\nexport default PileContainer;","import React from \"react\";\nimport CardView from \"./card\";\nimport FaceDownCard from \"./FaceDownCard\";\nimport Pile from \"./pile\";\nimport PileContainer from \"./pileContainer\";\n\nclass PileStackView extends React.Component {\n  render() {\n    return this.createStackPileView();\n  }\n\n  createStackPileView() {\n    const allPiles = Object.keys(this.props.piles).map(index => {\n      return this.createSinglePileView(this.props.piles[index], index);\n    });\n\n    return <PileContainer allPiles={allPiles} />;\n  }\n\n  createSinglePileView(pile, pileNumber) {\n    return (\n      <Pile\n        faceUpCards={this.createFaceDownCardView(pile, pileNumber)}\n        faceDownCards={this.createFaceUpCardView(pile, pileNumber)}\n      />\n    );\n  }\n\n  createFaceUpCardView(pile, pileNumber) {\n    let count = pile.getFaceUpCards().length;\n    const view = pile.getFaceUpCards().map((card, index) => {\n      const id = this.getID(pileNumber, card, count, index);\n      return this.createCardView(card, id);\n    });\n    return view;\n  }\n\n  createFaceDownCardView(pile, pileNumber) {\n    const view = pile.getFaceDownCards().map((card, index) => {\n      if (card.getRank() === 0) {\n        const id = this.getID(pileNumber, card, 1, index);\n        return this.createCardView(card, id);\n      }\n      return <FaceDownCard className=\"card\" />;\n    });\n    return view;\n  }\n\n  createCardView(card, id) {\n    return (\n      <CardView\n        card={card}\n        className=\"faced-up-card\"\n        id={id}\n        onDragStart={this.props.onDragStart}\n        onDrop={this.props.onDrop}\n        onDragOver={this.props.onDragOver}\n      />\n    );\n  }\n\n  getID(pileNumber, card, count, index) {\n    return `pile_${pileNumber}_${count - index}_${card.suit}_${card.color}_${\n      card.number\n    }_${card.unicode}`;\n  }\n}\n\nexport default PileStackView;","import React from \"react\";\n\nclass FoundationView extends React.Component {\n  render() {\n    return this.createFoundationView();\n  }\n\n  createFoundationView() {\n    const view = Object.keys(this.props.foundations).map(index => {\n      return (\n        <div\n          id={\"foundation_\" + index}\n          className=\"card stable-card\"\n          onDragOver={this.props.onDragOver}\n          onDrop={this.props.onDrop}\n          style={{\"color\":this.props.foundations[index].getTopCard().getColor()}}\n        >\n          {this.props.foundations[index].getTopCard().getUnicode()}\n        </div>\n      );\n    });\n    return <div className=\"foundation\">{view}</div>;\n  }\n\n}\n\nexport default FoundationView;","\nimport React from \"react\";\nimport WastePileView from \"./WastePileView\";\nimport PileStackView from \"./Deck\";\nimport FoundationView from \"./ foundations\";\nimport Card from \"../model/card\";\nimport { PLACE_PILE, PLACE_FOUNDATION, PLACE_WASTE_PILE } from \"../constant\";\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.game = props.game;\n    this.state = { game: props.game };\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"header\">\n          <WastePileView\n            wastePile={this.game.getWastePile()}\n            onClick={this.drawCard.bind(this)}\n            piles={this.game.getPiles()}\n            onDragStart={this.drag.bind(this)}\n            onDragOver={this.allowDrop.bind(this)}\n            onDrop={this.drop.bind(this)}\n          />\n          <FoundationView\n            foundations={this.game.getFoundations()}\n            onDragOver={this.allowDrop.bind(this)}\n            onDrop={this.drop.bind(this)}\n          />\n        </div>\n        <PileStackView\n          piles={this.game.getPiles()} \n          onDragStart={this.drag.bind(this)}\n          onDragOver={this.allowDrop.bind(this)}\n          onDrop={this.drop.bind(this)}\n        />\n      </div>\n    );\n  }\n\n  drawCard() {\n    this.game.drawCard();\n    this.setState({ game: this.game });\n  }\n\n  allowDrop(event) {\n    event.preventDefault();\n  }\n\n  drag(event) {\n    event.dataTransfer.setData(\"text\", event.target.id);\n  }\n\n  drop(event) {\n    event.preventDefault();\n    const source = event.dataTransfer.getData(\"text\");\n    const destination = event.target.id;\n\n    const draggedCard = this.getCard(source);\n    const inPlaceCard = this.getCard(destination);\n    if(this.isDestinationWastePile(destination)) return;\n    return this.isDestinationFoundation(destination)\n      ? this.shiftCardToFoundation(source, destination, draggedCard)\n      : this.shiftCardToPile(source, destination, draggedCard, inPlaceCard);\n  }\n\n  shiftCardToFoundation(source, destination, draggedCard) {\n    const foundation = this.splitAndTake(destination, 1);\n    if (this.isSourceWastePile(source)) {\n      this.game.shiftCardToFoundation(draggedCard, foundation, PLACE_WASTE_PILE);\n    }\n    if (this.isSourcePile(source)) {\n      const pileNum = +this.splitAndTake(source, 1);\n      this.game.shiftCardToFoundation(draggedCard, foundation, PLACE_PILE, pileNum);\n    }\n    this.setState({ game: this.game });\n  }\n\n  shiftCardToPile(source, destination, draggedCard, inPlaceCard) {\n    if (!this.game.isDraggableCard(draggedCard, inPlaceCard)) return;\n    if (this.isSourceWastePile(source)) {\n      const pileNumber = +this.splitAndTake(destination, 1);\n      this.game.shiftCardFromWastePileToPile(pileNumber);\n    }\n    if (this.isSourcePile(source)) {\n      const numOfCards = +this.splitAndTake(source, 2);\n      const sourcePile = +this.splitAndTake(source, 1);\n      const destinationPile = +this.splitAndTake(destination, 1);\n      this.game.shiftCardFromPileToPile(numOfCards, sourcePile, destinationPile);\n    }\n    this.setState({ game: this.game });\n  }\n\n  isSourceWastePile(source) {\n    return this.getPlace(source) === PLACE_WASTE_PILE;\n  }\n\n  isSourcePile(source) {\n    return this.getPlace(source) === PLACE_PILE;\n  }\n\n  isDestinationFoundation(destination) {\n    return this.getPlace(destination) === PLACE_FOUNDATION;\n  }\n\n  isDestinationPile(destination) {\n    return this.isSourcePile(destination);\n  }\n\n  isDestinationWastePile(destination){\n    return this.getPlace(destination) === PLACE_WASTE_PILE;  \n  }\n\n  getPlace(id) {\n    return id.split(\"_\")[0];\n  }\n\n  splitAndTake(data, count) {\n    return data.split(\"_\")[count];\n  }\n\n  getCard(id) {\n    const suit = id.split(\"_\")[3];\n    const color = id.split(\"_\")[4];\n    const number = +id.split(\"_\")[5];\n    const unicode = id.split(\"_\")[6];\n\n    return new Card({ suit, color, number, unicode });\n  }\n}\n\nexport default Game;","import Card from \"./card\";\n\nclass Foundation {\n  constructor() {\n    this.cards = [];\n  }\n\n  addCard(card) {\n    this.cards.push(card);\n  }\n\n  getCards() {\n    return this.cards;\n  }\n\n  getTopCard() {\n    if (this.cards.length === 0) {\n      return new Card({\n        suit: \"none\",\n        number: \"0\",\n        color: \"black\",\n        unicode: \"\\u{1F0A0}\"\n      });\n    }\n    \n    return this.cards[this.cards.length - 1];\n  }\n}\n\nexport default Foundation;\n"],"sourceRoot":""}